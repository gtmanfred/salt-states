# Maintainer: Army

_pkgname=dunst
pkgname=${_pkgname}-git
pkgver=1.0.0.15.g9d981e1
pkgver() {
  cd $_pkgname
  git describe --tags --long | sed 's/-/./g;s/^v//'
}
pkgrel=1
pkgdesc="dmenu-ish notification system "
arch=(i686 x86_64)
url="http://knopwob.github.com/dunst"
license=(MIT)
depends=(dbus-core libxinerama libxft libxss libxdg-basedir pango)
makedepends=('git' 'perl' 'libnotify')
optdepends=('libnotify: dunst is able to listen to notifications from libnotify')
provides=(${_pkgname} notification-daemon)
conflicts=(${_pkgname})

source=("$_pkgname::git+https://github.com/knopwob/dunst.git")
md5sums=('SKIP')
build() {
  cd "${srcdir}/$_pkgname"
    export CFLAGS=-DSTATIC_CONFIG
  make X11INC=/usr/include/X11 X11LIB=/usr/lib/X11
}

package() {
  cd "${srcdir}/$_pkgname"
    export CFLAGS=-DSTATIC_CONFIG
  make DESTDIR=${pkgdir} PREFIX=/usr install
  install -Dm644 "${srcdir}/dunst/LICENSE" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
